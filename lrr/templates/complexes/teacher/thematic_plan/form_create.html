{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb px-3 pb-0">
      <li class="breadcrumb-item"><a href="/"><i class="fas fa-university fa-lg"></i></a></li>
      <li class="breadcrumb-item"><a href="/">Каталог ЭОР</a></li>
      <li class="breadcrumb-item"><a
              href="{% url 'complexes:complexes_Cell_list' digital_complex_pk=digital_complex_pk %}">Редактирование
        структурно-тематического плана
        ЭУМК {{ dig_complex }}</a></li>
      {#      <li class="breadcrumb-item"><a#}
      {#              href="{% url 'repository:repository_digitalresource_owner_list' %}">Мои ЭОР</a></li>#}
      <li class="breadcrumb-item active" aria-current="page">Редактирование ячейки структурно-тематического плана
        ЭУМК {{ dig_complex }}</li>
    </ol>
  </nav>
  <header><h1 class="display-3">Редактирование ячейки структурно-тематического плана
    ЭУМК {{ dig_complex }}</h1>
    <h2>По {% for subject in dig_complex.subjects.all %}
      {{ subject }}
    {% endfor %}
      образовательной программы
      {% for direction in dig_complex.directions.all %}
        {{ direction }}
      {% endfor %}
    </h2>
  </header>

  <div class="row p-2">
    <div class="col-12 p-2">
      <form class="" method="post">
        {% csrf_token %}
        {{ form.errors }}
        {{ form.non_field_errors }}
        {{ form.media.css }}
        {{ form }}
        <label for="id_theme_name" wfd-id="10">Недели с</label>
        <input type="text" class="form-control" required="false" maxlength="1024">
        по <input type="text" class="form-control" required="false" maxlength="1024">
        для формы обучения <input type="select" class="form-control" required="false" maxlength="1024">
        <br/>
        <h5>ЭОР / Платформы / Занятия ячейки</h5>
        <table class="table table-striped table-bordered col-12 col-lg-12 col-xl-10">
          <thead>
          <th>Компоненты для добавления</th>
          <th>Компоненты ячейки</th>
          <th></th>
          </tr>
          </thead>
          <tbody>
          {% for object in component_complex.all %}
            <tr>
            <td>{{ object.title }}</td>
            <td></td>
            <td><a class="btn btn-outline-primary text-nowrap"
                   href="{% url 'complexes:complexes_AssignmentAcademicGroup_update' pk=object.pk %}"><i
                    class="fas fa-edit"></i> Добавить</a>
            </td>
            <td><a class="btn btn-primary"
                   href="{% url 'complexes:complexes_AssignmentAcademicGroup_delete' pk=object.pk %}"><i
                    class="fas fa-trash-alt"></i></a></td>
          {% endfor %}
          </tbody>
        </table>
        <br/>

        {#        <div class="card h-100 shadow-3">#}
        {#          <div class="card-body">#}
        {#            <h4>Добавить ещё акдемических групп</h4>#}
        {#            {{ assignment_formset.management_form }}#}
        {#            {% for assignment in assignment_formset.forms %}#}
        {#              <div class="card assignment_formset shadow-3 mb-3">#}
        {#                <div class="card-body">#}
        {#                  <div class="form-group">#}
        {#                    <label>{{ assignment.academic_group.label }}</label>#}
        {#                    {{ assignment.academic_group }}#}
        {#                  </div>#}
        {#                  <div class="form-group">#}
        {#                    <label> {{ assignment.subject.label }}</label>#}
        {#                    {{ assignment.subject }}#}
        {#                  </div>#}
        {#                  <div class="form-group">#}
        {#                    <label>{{ assignment.learn_date.label }}</label>#}
        {#                    {{ assignment.learn_date }}#}
        {#                  </div>#}
        {#                  <div class="form-group">#}
        {#                    <label>{{ assignment.semestr.label }}</label>#}
        {#                    {{ assignment.semestr }}#}
        {#                  </div>#}
        {#                <div class="field">#}
        {#                  {{ source }}#}
        {#                </div>#}
        {#                </div>#}
        {#              </div>#}
        {#            {% endfor %}#}
        {#            <br/>#}
        {##}
        {#          </div>#}
        {#        </div>#}
        <button class="btn btn-primary" type="submit">Сохранить</button>
        <a class="btn btn-primary" href="{{ request.META.HTTP_REFERER }}">Отмена</a>
      </form>
    </div>
  </div>
  {{ form.media.js }}
  </div>
{% endblock %}
